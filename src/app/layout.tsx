import type { Metadata } from "next";
import {
  Roboto,
  // Bokor
} from "next/font/google";
import "./globals.css";
import { AuthProvider } from "@/utils/AuthProvide";
// import ProjectContainer from '@/components/projectContainer';
import Header from "@/components/header";
import Footer from "@/components/footer";
import { Toaster } from "sonner";
import { getKindeServerSession } from "@kinde-oss/kinde-auth-nextjs/server";

const roboto = Roboto({
  weight: ["400", "700"],
  subsets: ["latin"],
  display: "swap",
});
// const bokor = Bokor({ subsets: ['latin'], weight: ['400'], display: 'swap' });

export const metadata: Metadata = {
  title: "BasketJoin",
  description: "Generated by create next app",
};

export default async function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  const { isAuthenticated } = getKindeServerSession();
  const isAuth = await isAuthenticated();
  return (
    <AuthProvider>
      <html lang="en">
        <body
          // className={`${roboto.className} bg-gradient-to-t from-orange-200 via-orange-100 to-orange-100 flex flex-col min-h-screen max-w-[1100px] mx-auto`}
          className={`${roboto.className} mx-auto flex min-h-screen max-w-[1100px] flex-col bg-zinc-950 bg-gradient-to-t text-zinc-300`}
        >
          {/* <Suspense fallback={<div>Loading...</div>}> */}
          <Header isAuthenticated={isAuth} />
          {/* </Suspense> */}
          <main className="sm:pb- grow px-4 pb-[calc(4rem+env(safe-area-inset-bottom))] pt-2">
            {children}
          </main>
          <Footer />
          <Toaster richColors />
        </body>
      </html>
    </AuthProvider>
  );
}
